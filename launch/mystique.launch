<launch>
    <arg name="namespace" default="ben"/>
    <arg name="operator_ip" default="192.168.100.199"/>
    <rosparam command="load" file="$(find ben_hardware)/config/ben.yaml" ns="$(arg namespace)"/>
    
    <include file="$(find project11)/launch/vehicle_core.launch">
        <arg name="host" value="$(arg operator_ip)"/>
        <arg name="namespace" value="$(arg namespace)"/>
    </include>

    
    <node pkg="cw4_helm" type="cw4_helm_node" name="cw4_helm" ns="$(arg namespace)"/>
    <node pkg="control_by_web_x4xx_interface" type="cbw_x4xx_node.py" name="control_by_web_x4xx_interface" ns="$(arg namespace)"/>
    <node pkg="flir" type="flir_node.py" name="flir_engine" ns="$(arg namespace)"/>
    <node pkg="br24_radar" type="br24_radar_node.py" name="br24_radar_node" ns="$(arg namespace)">
      <remap from="radar" to="sensors/radar"/>
      <param name="frameId" value="($arg namespace)/radar"/>
    </node>
    <node pkg="posmv" type="posmv_node.py" name="posmv" ns="$(arg namespace)"/>
    <!--node pkg="radar_obstacle_detection" type="radar_obstacle_detection_node.py" name="radar_obstacle_detection"/-->
    <!--node pkg="kongsberg_em_control" type="kongsberg_em_control_node.py" name="kongsberg_em_control"/-->
    <!--node pkg="kongsberg_em" type="kongsberg_em_node.py" name="kongsberg_em"/-->

    <include file="$(find velodyne_pointcloud)/launch/VLP16_points.launch" ns="$(arg namespace)/sensors">
      <arg name="frame_id" value="$(arg namespace)/lidar"/>
      <arg name="manager" value="$(arg namespace)_lidar_nodelet_manager"/>
      <remap from="velodyne_points" to="lidar"/>
    </include>
    
    <node pkg="mbr" type="mbr_node.py" name="mbr_node" ns="$(arg namespace)"/>

    <include file="$(find ben_hardware)/launch/loggers.launch">
        <arg name="namespace" value="$(arg namespace)"/>
    </include>
    
    <node pkg="nmea_navsat_driver" type="nmea_topic_serial_reader" name="nmea_reader" ns="$(arg namespace)">
      <param name="port" value="/dev/ttyACM0"/>
      <param name="baud" value="38400"/>
      <remap from="nmea_sentence" to="sensors/nmea_sentence"/>
    </node>
    
</launch>
